import{b as N,h,a as k,E as R,H as g,r as q,s as L,c as d,d as T,e as E,p as A,f as o,U as v,g as x,i as D,u as F,q as H,S as O}from"./runtime.BiY0wdwH.js";function Y(a,f,e=!1){h&&k();var i=a,r=null,s=null,c=v,b=e?R:0,l=!1;const y=(n,t=!0)=>{l=!0,u(t,n)},u=(n,t)=>{if(c===(c=n))return;let _=!1;if(h){const I=i.data===g;!!c===I&&(i=q(),L(i),d(!1),_=!0)}c?(r?T(r):t&&(r=E(()=>t(i))),s&&A(s,()=>{s=null})):(s?T(s):t&&(s=E(()=>t(i))),r&&A(r,()=>{r=null})),_&&d(!0)};N(()=>{l=!1,f(y),l||u(null,null)},b),h&&(i=o)}function S(a,f){return a===f||(a==null?void 0:a[O])===f}function p(a={},f,e,i){return x(()=>{var r,s;return D(()=>{r=s,s=[],F(()=>{a!==e(...s)&&(f(a,...s),r&&S(e(...r),a)&&f(null,...r))})}),()=>{H(()=>{s&&S(e(...s),a)&&f(null,...s)})}}),a}export{p as b,Y as i};
